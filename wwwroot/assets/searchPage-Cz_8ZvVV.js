import{d as f,r as _,u as g,i as y,o as c,c as i,e as t,F as v,j as k,k as u,t as n,_ as m,l as $,v as x,b as P}from"./index-BkUlVtEz.js";import{R as b}from"./request-BB6PRwq2.js";const w={class:"container"},D={class:"section"},B={class:"post-list"},F=["onClick"],H={class:"post-title"},I={class:"post-content"},S={class:"post-meta"},V={class:"post-likes"},q={class:"post-date"},A={class:"section"},E={class:"post-list"},L=["onClick"],M={class:"post-title"},N={class:"post-content"},j={class:"post-meta"},G={class:"post-favorites"},T={class:"post-date"},U=f({__name:"hotRanking",setup(R){const a=_([]),r=_([]),h=b.getInstance(),e=g(),l=async()=>{try{const o=await h.Get("/api/Search/HotRanking",!1);o.success?(a.value=o.like,r.value=o.favorite):console.error("Failed to fetch hot ranking data")}catch(o){console.error("Error fetching hot ranking data:",o)}},p=o=>new Date(o).toLocaleString();return y(()=>{l()}),(o,d)=>(c(),i("div",w,[t("section",D,[d[0]||(d[0]=t("h2",{class:"section-title"},"本周最多点赞的帖子",-1)),t("div",B,[(c(!0),i(v,null,k(a.value,s=>(c(),i("div",{key:s.id,class:"post-card",onClick:C=>{u(e).push("/post/"+s.id)}},[t("h3",H,n(s.title),1),t("p",I,n(s.content),1),t("div",S,[t("span",V,"👍 "+n(s.likeCount),1),t("span",q,"📅 "+n(p(s.createdAt)),1)])],8,F))),128))])]),t("section",A,[d[1]||(d[1]=t("h2",{class:"section-title"},"本周最多收藏的帖子",-1)),t("div",E,[(c(!0),i(v,null,k(r.value,s=>(c(),i("div",{key:s.id,class:"post-card",onClick:C=>{u(e).push("/post/"+s.id)}},[t("h3",M,n(s.title),1),t("p",N,n(s.content),1),t("div",j,[t("span",G,"❤️ "+n(s.favoriteCount),1),t("span",T,"📅 "+n(p(s.createdAt)),1)])],8,L))),128))])])]))}}),z=m(U,[["__scopeId","data-v-a135fd08"]]),J={class:"searchPage"},K={class:"search"},O={class:"hotRanking"},Q=f({__name:"searchPage",setup(R){const a=_(""),r=g();return(h,e)=>(c(),i("div",J,[e[2]||(e[2]=t("div",{class:"head"}," 搜索 ",-1)),t("div",K,[$(t("input",{type:"text",placeholder:"搜索","onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l)},null,512),[[x,a.value]]),t("button",{onClick:e[1]||(e[1]=l=>u(r).push("/search/"+a.value))},"搜索")]),t("div",O,[P(z)])]))}}),Y=m(Q,[["__scopeId","data-v-81490b7b"]]);export{Y as default};
