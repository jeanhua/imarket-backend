# iMarket æ ¡å›­é›†å¸‚åç«¯ï¼ˆå¼€å‘ä¸­ï¼‰

## ğŸ” ä»‹ç»

iMarket æ˜¯ä¸€ä¸ªä¸ºæ ¡å›­ç¯å¢ƒè®¾è®¡çš„å¼€æºåœ¨çº¿æ ¡å›­é›†å¸‚åç«¯ç³»ç»Ÿï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªæ–¹ä¾¿ã€å¿«æ·ã€å®‰å…¨çš„å‘å¸–å¹³å°ï¼Œå¸®åŠ©å­¦ç”Ÿå‘å¸ƒã€æµè§ˆã€æ”¶è—å’Œç®¡ç†ä¿¡æ¯ã€‚è¯¥åç«¯åŸºäº .NET Web API æ„å»ºï¼Œé…åˆ MySQL æ•°æ®åº“è¿›è¡Œæ•°æ®å­˜å‚¨ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒé«˜æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

## ğŸ“š ä½¿ç”¨è¯´æ˜

### 1. åˆ›å»ºæ•°æ®åº“

1. ç¡®ä¿å·²å®‰è£… MySQL æ•°æ®åº“ï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥åˆ›å»ºé¡¹ç›®æ‰€éœ€çš„æ•°æ®åº“ã€‚

   è¿æ¥æ•°æ®åº“

   ```bash
   mysql -u root -p
   ```

   åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·ï¼Œ`your_password`æ¢æˆä½ æƒ³è¦çš„å¯†ç 

   ```
   CREATE DATABASE imarket;
   CREATE USER 'imarket_root'@'localhost' IDENTIFIED BY 'your_password';
   GRANT ALL PRIVILEGES ON imarket.* TO 'imarket_root'@'localhost';
   FLUSH PRIVILEGES;
   ```


### 2. é…ç½®é¡¹ç›®

1. å…‹éš†ä»£ç ä»“åº“ï¼š
   ```bash
   git clone git@github.com:jeanhua/imarket_server.git
   cd imarket-backend
   ```

2. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š
   ç¼–è¾‘ `appsettings.json`ï¼Œå¡«å†™æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ï¼Œ`your_password`æ¢æˆä½ ä¸Šé¢è®¾ç½®çš„å¯†ç 
   
   ```json
   {
       "ConnectionStrings": {
           "DefaultConnection": "Server=localhost;Database=imarket;User Id=imarket_root;Password=your_password;"
       }
   }
   ```
   
   å¡«å†™å¯†é’¥å’Œtokenæœ‰æ•ˆæ—¶é—´ ( é»˜è®¤60åˆ†é’Ÿ )
   
   ```json
   "JwtSettings": {
       "Key": "YourSuperSecretKeyHere",
       "Issuer": "imarket",
       "Audience": "web-client",
       "ExpiresInMinutes": 60,
       "RefreshTokenExpiresInDays" : 7
     }
   ```
   
   å¡«å†™ç®¡ç†å‘˜ä¿¡æ¯
   
   ```json
   "admin":{
       "Username":"admin",
       "Email":"admin@imarkt.com",
       "Password":"your password"
     }
   ```
   
   

### 3. è¿è¡Œé¡¹ç›®

1. #### ï¼ˆæ¨èï¼‰ä¸‹è½½releaseç‰ˆæœ¬ï¼Œè¿è¡Œå³å¯ï¼Œæ”¯æŒå‚æ•°`--port=ç«¯å£`æ¥æŒ‡å®šç«¯å£

2. #### æˆ–è€…è¿è¡Œä»£ç 

   1. å®‰è£…ä¾èµ–ï¼š

      ```bash
      dotnet restore
      ```

   2. è¿è¡Œé¡¹ç›®ï¼š

      ```bash
      dotnet run
      ```

3. ####  åç«¯ API é»˜è®¤è¿è¡Œåœ¨ `https://localhost:5001`

### 4. æµ‹è¯•æ¥å£

1. ä½¿ç”¨ Postman æˆ–å…¶ä»– API æµ‹è¯•å·¥å…·å¯¼å…¥é¡¹ç›®çš„ API æ–‡æ¡£ï¼ˆä¾‹å¦‚ï¼šSwagger æ–‡ä»¶ï¼‰ã€‚
2. æ ¹æ® API æ–‡æ¡£æµ‹è¯•åç«¯æ¥å£åŠŸèƒ½ï¼Œä¾‹å¦‚ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€å‘å¸–ã€è¯„è®ºç­‰ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

- `Controllers`ï¼šæ§åˆ¶å™¨å±‚ï¼Œå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶è¿”å›å“åº”ã€‚

- `Models`ï¼šæ•°æ®æ¨¡å‹å±‚ï¼Œå®šä¹‰æ•°æ®åº“å®ä½“å’Œç›¸å…³ä¸šåŠ¡é€»è¾‘ã€‚

- `Services`ï¼šæœåŠ¡å±‚ï¼ŒåŒ…å«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚

- `utils`ï¼šå­˜æ”¾ä¸€äº›è¾…åŠ©å‡½æ•°

- `wwwroot`ï¼šå­˜æ”¾å‰ç«¯é™æ€ç½‘é¡µ

  ---

- [Database.md](./Database.md) æ•°æ®åº“è¡¨ç»“æ„

## ğŸŒŸ åŠŸèƒ½æ¨¡å—

1. **ç”¨æˆ·ç®¡ç†**ï¼šç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€èµ„æ–™ä¿®æ”¹ã€‚
2. **å¸–å­ç®¡ç†**ï¼šå‘å¸–ã€ç»“æŸã€åˆ é™¤ã€æŸ¥çœ‹å¸–å­è¯¦æƒ…ã€‚
3. **è¯„è®ºåŠŸèƒ½**ï¼šå¯¹å¸–å­å‘è¡¨è¯„è®ºã€‚
4. **ç‚¹èµä¸æ”¶è—**ï¼šæ”¯æŒç”¨æˆ·å¯¹å¸–å­å’Œè¯„è®ºçš„ç‚¹èµä¸æ”¶è—ã€‚
5. **åˆ†ç±»ç³»ç»Ÿ**ï¼šæ”¯æŒä¸ºå¸–å­åˆ†é…åˆ†ç±»ã€‚
6. **å›¾ç‰‡ç®¡ç†**ï¼šæ”¯æŒå¸–å­å›¾ç‰‡ä¸Šä¼ ä¸ç®¡ç†ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- åç«¯æ¡†æ¶ï¼š.NET 8
- æ•°æ®åº“ï¼šMySQL
- ä¾èµ–ç®¡ç†ï¼šNuGet

## ğŸ“ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“ã€‚
2. åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼š`git checkout -b feature/your-feature-name`ã€‚
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add your message here'`ã€‚
4. æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼š`git push origin feature/your-feature-name`ã€‚
5. æäº¤ Pull Requestã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼š

- é‚®ç®±ï¼šjeanhua_official@outlook.com
- é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/jeanhua/imarket-backend

---
æ„Ÿè°¢æ‚¨çš„æ”¯æŒå’Œè´¡çŒ®ï¼